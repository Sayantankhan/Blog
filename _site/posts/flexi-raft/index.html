<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="en" data-mode="dark">
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  ><!-- Setup Open Graph image -->

  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="FlexiRaft: Flexible Quorums with Raft in MySQL" />
<meta name="author" content="Sayantan" />
<meta property="og:locale" content="en" />
<meta name="description" content="In large-scale distributed environments like Meta, MySQL remains the most widely deployed transactional datastore, managing petabytes of data. Ensuring low latency, high availability, and strong consistency across global deployments presents a unique challenge." />
<meta property="og:description" content="In large-scale distributed environments like Meta, MySQL remains the most widely deployed transactional datastore, managing petabytes of data. Ensuring low latency, high availability, and strong consistency across global deployments presents a unique challenge." />
<link rel="canonical" href="http://0.0.0.0:4000/blog/posts/flexi-raft/" />
<meta property="og:url" content="http://0.0.0.0:4000/blog/posts/flexi-raft/" />
<meta property="og:site_name" content="SayantanKhan" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-06-20T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="FlexiRaft: Flexible Quorums with Raft in MySQL" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Sayantan"},"dateModified":"2025-06-21T12:41:42+00:00","datePublished":"2025-06-20T00:00:00+00:00","description":"In large-scale distributed environments like Meta, MySQL remains the most widely deployed transactional datastore, managing petabytes of data. Ensuring low latency, high availability, and strong consistency across global deployments presents a unique challenge.","headline":"FlexiRaft: Flexible Quorums with Raft in MySQL","mainEntityOfPage":{"@type":"WebPage","@id":"http://0.0.0.0:4000/blog/posts/flexi-raft/"},"url":"http://0.0.0.0:4000/blog/posts/flexi-raft/"}</script>
<!-- End Jekyll SEO tag -->


  <title>FlexiRaft: Flexible Quorums with Raft in MySQL | SayantanKhan
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/blog/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/blog/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/blog/assets/img/favicons/favicon-16x16.png">

  <link rel="manifest" href="/blog/assets/img/favicons/site.webmanifest">

<link rel="shortcut icon" href="/blog/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="SayantanKhan">
<meta name="application-name" content="SayantanKhan">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/blog/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  <!-- Resource Hints -->
  
    
      
        <link rel="preconnect" href="https://fonts.googleapis.com" >
      
        <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
      
    
      
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      
        <link rel="dns-prefetch" href="https://fonts.gstatic.com" >
      
    
      
        <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      
        <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
      
    
  

  <!-- Bootstrap -->
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css">
  

  <!-- Theme style -->
  <link rel="stylesheet" href="/blog/assets/css/jekyll-theme-chirpy.css">

  <!-- Web Font -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">

  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css">

  <!-- 3rd-party Dependencies -->

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css">
  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css">
  

  
    <!-- Image Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css">
  

  <!-- Scripts -->

  <script src="/blog/assets/js/dist/theme.min.js"></script>

  <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->


  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script>







<script defer src="/blog/assets/js/dist/post.min.js"></script>



<!-- Pageviews -->

  

  



  

  <!-- A placeholder to allow defining custom metadata -->

</head>


  <body>
    <!-- The Side Bar -->

<aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
  <header class="profile-wrapper">
    <a href="/blog/" id="avatar" class="rounded-circle"><img src="/blog/assets/img/avatar.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a>

    <a class="site-title d-block" href="/blog/">SayantanKhan</a>
    <p class="site-subtitle fst-italic mb-0">Blog Posts</p>
  </header>
  <!-- .profile-wrapper -->

  <nav class="flex-column flex-grow-1 w-100 ps-0">
    <ul class="nav">
      <!-- home -->
      <li class="nav-item">
        <a href="/blog/" class="nav-link">
          <i class="fa-fw fas fa-home"></i>
          <span>HOME</span>
        </a>
      </li>
      <!-- the real tabs -->
      
        <li class="nav-item">
          <a href="/blog/categories/" class="nav-link">
            <i class="fa-fw fas fa-stream"></i>
            

            <span>CATEGORIES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/blog/tags/" class="nav-link">
            <i class="fa-fw fas fa-tags"></i>
            

            <span>TAGS</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/blog/archives/" class="nav-link">
            <i class="fa-fw fas fa-archive"></i>
            

            <span>ARCHIVES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/blog/about/" class="nav-link">
            <i class="fa-fw fas fa-info-circle"></i>
            

            <span>ABOUT</span>
          </a>
        </li>
        <!-- .nav-item -->
      
    </ul>
  </nav>

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    

    
      

      
        <a
          href="https://github.com/Sayantankhan"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a
          href="https://twitter.com/"
          aria-label="twitter"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fa-brands fa-x-twitter"></i>
        </a>
      
    
      

      
        <a
          href="javascript:location.href = 'mailto:' + ['iamstk14','gmail.com'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
      

      
        <a
          href="/blog/feed.xml"
          aria-label="rss"
          

          

          

          
        >
          <i class="fas fa-rss"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</aside>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div class="container d-flex flex-column px-xxl-5">
        <!-- The Top Bar -->

<header id="topbar-wrapper" class="flex-shrink-0" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb">
      

      
        
          
            <span>
              <a href="/blog/">Home</a>
            </span>

          
        
          
        
          
            
              <span>FlexiRaft: Flexible Quorums with Raft in MySQL</span>
            

          
        
      
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link" aria-label="Sidebar">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <div id="topbar-title">
      Post
    </div>

    <button type="button" id="search-trigger" class="btn btn-link" aria-label="Search">
      <i class="fas fa-search fa-fw"></i>
    </button>

    <search id="search" class="align-items-center ms-3 ms-lg-0">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="Search..."
      >
    </search>
    <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button>
  </div>
</header>


        <div class="row flex-grow-1">
          <main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->



<!-- Handle images -->




  
  

  
    
      
      
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  

  


<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  

  
  

  




<!-- return -->










<article class="px-1" data-toc="true">
  <header>
    <h1 data-toc-skip>FlexiRaft: Flexible Quorums with Raft in MySQL</h1>
    

    <div class="post-meta text-muted">
      <!-- published date -->
      <span>
        Posted
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1750377600"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Jun 20, 2025
</time>

      </span>

      <!-- lastmod date -->
      
        <span>
          Updated
          <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1750509702"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Jun 21, 2025
</time>

        </span>
      

      

      <div class="d-flex justify-content-between">
        <!-- author(s) -->
        <span>
          

          By

          <em>
            
              <a href="https://www.linkedin.com/in/sayantan-khan-219231b7">Sayantan</a>
            
          </em>
        </span>

        <div>
          <!-- pageviews -->
          

          <!-- read time -->
          <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="1129 words"
>
  <em>6 min</em> read</span>

        </div>
      </div>
    </div>
  </header>

  
    <div id="toc-bar" class="d-flex align-items-center justify-content-between invisible">
      <span class="label text-truncate">FlexiRaft: Flexible Quorums with Raft in MySQL</span>
      <button type="button" class="toc-trigger btn me-1">
        <i class="fa-solid fa-list-ul fa-fw"></i>
      </button>
    </div>

    <button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm">
      <span class="label ps-2 pe-1">Contents</span>
      <i class="fa-solid fa-angle-right fa-fw"></i>
    </button>

    <dialog id="toc-popup" class="p-0">
      <div class="header d-flex flex-row align-items-center justify-content-between">
        <div class="label text-truncate py-2 ms-4">FlexiRaft: Flexible Quorums with Raft in MySQL</div>
        <button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75">
          <i class="fas fa-close"></i>
        </button>
      </div>
      <div id="toc-popup-content" class="px-4 py-3 pb-4"></div>
    </dialog>
  

  <div class="content">
    <p>In large-scale distributed environments like Meta, MySQL remains the most widely deployed transactional datastore, managing <strong>petabytes of data</strong>. Ensuring <strong>low latency, high availability, and strong consistency</strong> across global deployments presents a unique challenge.</p>

<p>To address the limitations of traditional semi-synchronous replication and tailor consensus behavior to application needs, Meta introduced <strong>FlexiRaft</strong> — a modification of the Raft algorithm supporting <strong>flexible and dynamic quorums</strong>.</p>

<hr />

<h2 id="-problem-with-traditional-stack"><span class="me-2">🚨 Problem with Traditional Stack</span><a href="#-problem-with-traditional-stack" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Before FlexiRaft, MySQL at Meta used a semi-synchronous replication protocol:</p>

<ul>
  <li>Writes were accepted by the <strong>primary</strong> (<code class="language-plaintext highlighter-rouge">R0</code>), acknowledged by one of its **binlog servers (BLS R0.1 or R0.2)`.</li>
  <li><strong>Secondary replicas</strong> in other regions (<code class="language-plaintext highlighter-rouge">R1</code>, <code class="language-plaintext highlighter-rouge">R2</code>, etc.) asynchronously applied the updates.</li>
  <li><strong>Binlog servers in other regions</strong> received updates <strong>indirectly</strong> from their local MySQL replica (<code class="language-plaintext highlighter-rouge">R1</code> → <code class="language-plaintext highlighter-rouge">BLS R1.x</code>).</li>
</ul>

<h3 id="limitations"><span class="me-2">Limitations:</span><a href="#limitations" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li><strong>Error-prone leader election logic</strong> spread across automation tools.</li>
  <li>Manual intervention during outages.</li>
  <li>External discovery system introduced <strong>scalability bottlenecks</strong>.</li>
  <li>Increasing <strong>cross-region traffic</strong>.</li>
  <li>Lack of fine-grained control over commit vs election quorum.</li>
</ul>

<hr />

<h2 id="-raft-adoption-and-customization"><span class="me-2">✅ Raft Adoption and Customization</span><a href="#-raft-adoption-and-customization" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Raft provides strong leader semantics and a clean model for replication. However, the original Raft lacked <strong>flexibility in quorum configuration</strong>, critical for latency-sensitive applications.</p>

<p><strong>FlexiRaft</strong> extends Raft by introducing:</p>

<h3 id="-configurable-commit-quorums"><span class="me-2">🔁 <strong>Configurable Commit Quorums</strong></span><a href="#-configurable-commit-quorums" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<ul>
  <li>Developers can define data commit quorums based on application needs.</li>
  <li>Election quorums are computed automatically to ensure intersection.</li>
</ul>

<h3 id="-dynamic-quorums"><span class="me-2">🔀 <strong>Dynamic Quorums</strong></span><a href="#-dynamic-quorums" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<ul>
  <li>Election/commit quorum depends on <strong>current leader’s region</strong>.</li>
  <li>Enables low-latency writes without full cross-region consensus.</li>
  <li>Safer crash recovery by inferring <strong>voting history</strong>.</li>
</ul>

<h3 id="️-automation-improvements"><span class="me-2">⚙️ <strong>Automation Improvements</strong></span><a href="#️-automation-improvements" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<ul>
  <li>All consensus logic lives <strong>inside the MySQL server</strong>.</li>
  <li>Simplified external tooling and orchestration.</li>
</ul>

<hr />

<h2 id="-architecture-overview"><span class="me-2">📦 Architecture Overview</span><a href="#-architecture-overview" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Each region consists of:</p>
<ul>
  <li>One <strong>MySQL replica</strong> (R0, R1, R2).</li>
  <li>Two <strong>binlog servers</strong> (BLS).</li>
</ul>

<p>Only the <strong>primary (R0)</strong> accepts writes. Other regions asynchronously replicate. Binlog servers maintain recent logs, aiding fast failovers and recovery.</p>

<hr />

<h2 id="-key-quorum-types"><span class="me-2">🧠 Key Quorum Types</span><a href="#-key-quorum-types" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Data Commit Quorum</strong></td>
      <td>Set of replicas (MySQL/BLS) that must ack a transaction before commit</td>
    </tr>
    <tr>
      <td><strong>Leader Election Quorum</strong></td>
      <td>Set of replicas that must approve a candidate for leadership</td>
    </tr>
    <tr>
      <td><strong>Pessimistic Quorum</strong></td>
      <td>Majority in every constituent group — guarantees intersection with any valid quorum</td>
    </tr>
  </tbody>
</table></div>

<hr />

<h2 id="️-new-architecture-refer-figure-1"><span class="me-2">🏗️ New Architecture (Refer Figure 1)</span><a href="#️-new-architecture-refer-figure-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>A typical deployment has:</p>

<ul>
  <li>A <strong>Primary replica (Region 0)</strong> that accepts writes.</li>
  <li><strong>Secondary replicas (Regions 1 and 2)</strong> with <strong>Binlog Servers (BLS)</strong>.</li>
  <li>BLS store recent logs and allow region-local replication without maintaining a full DB copy.</li>
</ul>

<p><strong>Binlog Server Tree:</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre>         Region 0                   Region 1                   Region 2
        -----------               -----------                -----------
        | Primary |               |Secondary|                |Secondary|
        |   R0    |               |   R1    |                |   R2    |
        -----------               -----------                -----------
         /       \                  /    \                     /     \
   BLS R0.1   BLS R0.2         BLS R1.1  BLS R1.2         BLS R2.1  BLS R2.2
</pre></td></tr></tbody></table></code></div></div>
<p><a href="/blog/assets/img/Replication.png" class="popup img-link shimmer"><img src="/blog/assets/img/Replication.png" alt="FlexiRaft Replication Layout" loading="lazy"></a></p>

<ul>
  <li>R0 sends binlog data to BLS R0.1 and R0.2 (semi-sync).</li>
  <li>Secondaries (R1, R2) replicate asynchronously.</li>
  <li>BLS in Region 1 and 2 <strong>only sync from their respective regional secondaries</strong>, not from the primary.</li>
</ul>

<hr />

<h2 id="-what-is-flexiraft"><span class="me-2">💡 What is FlexiRaft?</span><a href="#-what-is-flexiraft" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>A modification of Raft where:</p>

<ul>
  <li><strong>Data commit quorum</strong> and <strong>leader election quorum</strong> are explicitly configurable.</li>
  <li>Supports <strong>static</strong> and <strong>dynamic</strong> quorum models.</li>
  <li>Consensus logic fully lives inside the MySQL server — simplifying tooling.</li>
</ul>

<hr />

<h2 id="️-modes-of-operation"><span class="me-2">🛠️ Modes of Operation</span><a href="#️-modes-of-operation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<h3 id="1-static-quorums"><span class="me-2">1. <strong>Static Quorums</strong></span><a href="#1-static-quorums" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<p>Quorum configuration is fixed across the cluster. Examples:</p>

<p><strong>Disjunction (either US or Europe group):</strong></p>
<ul>
  <li>Commit: Majority in 2 of 5 (G1–G5) OR 2 of 3 (G6–G8)</li>
  <li>Elect: Majority in 4 of 5 AND 2 of 3</li>
</ul>

<p><strong>Conjunction (both US and Europe):</strong></p>
<ul>
  <li>Commit: Majority in 2 of 5 AND 2 of 3</li>
  <li>Elect: Majority in 4 of 5 AND 2 of 3</li>
</ul>

<h3 id="2-dynamic-quorums"><span class="me-2">2. <strong>Dynamic Quorums</strong></span><a href="#2-dynamic-quorums" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<ul>
  <li>Commit quorum = Majority in leader’s group</li>
  <li>Elect quorum = Derived from leader’s group and voting history</li>
</ul>

<hr />

<h2 id="-algorithmic-changes"><span class="me-2">🧮 Algorithmic Changes</span><a href="#-algorithmic-changes" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>FlexiRaft modifies the Raft election algorithm to handle:</p>

<ul>
  <li><strong>Tracking last known leader</strong> and its term</li>
  <li><strong>Evaluating voting history</strong> to determine safe elections</li>
  <li><strong>Using pessimistic quorums</strong> only if dynamic methods fail</li>
</ul>

<hr />

<h2 id="-algorithm"><span class="me-2">🧪 Algorithm</span><a href="#-algorithm" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Changing the original Raft algorithm to support the static quorum modes was relatively less intrusive. Instead of waiting on a simple majority of voters, the algorithm would now
evaluate a configurable static quorum instead. The helper function 𝑖𝑠_𝑞𝑢𝑜𝑟𝑢𝑚_𝑠𝑎𝑡𝑖𝑠𝑓𝑖𝑒𝑑 returns a couple of boolean values after analyzing all the votes
received by the candidate. The first boolean denotes if the quorum has already been satisfied from the votes received
thus far and the second one denotes if the satisfaction of the quorum is still possible</p>

<p>For supporting the dynamic quorum mode, the leader election algorithm had to undergo significant changes</p>

<p>There are two extra pieces of information that each server would need to store for supporting dynamic quorums.
• Last known leader and its term
• Previous voting history</p>

<div class="language-python highlighter-rouge"><div class="code-header">
        <span data-label-text="Python"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="n">Input</span><span class="p">:</span> <span class="n">𝑟𝑒𝑠𝑝𝑜𝑛𝑠𝑒𝑠</span> <span class="p">:</span> <span class="n">𝑠𝑒𝑡</span> <span class="o">&lt;</span> <span class="n">𝑅𝑒𝑞𝑢𝑒𝑠𝑡𝑉𝑜𝑡𝑒𝑅𝑒𝑠𝑝𝑜𝑛𝑠𝑒</span> <span class="o">&gt;</span><span class="p">,</span> <span class="n">𝑞𝑢𝑜𝑟𝑢𝑚_𝑠𝑝𝑒𝑐𝑖𝑓𝑖𝑐𝑎𝑡𝑖𝑜𝑛</span><span class="p">,</span> <span class="n">𝑙𝑎𝑠𝑡_𝑘𝑛𝑜𝑤𝑛_𝑙𝑒𝑎𝑑𝑒𝑟</span>
<span class="n">Output</span><span class="p">:</span> <span class="n">ElectionResult</span><span class="o">&lt;</span><span class="n">𝑞𝑢𝑜𝑟𝑢𝑚_𝑠𝑎𝑡𝑖𝑠𝑓𝑖𝑒𝑑</span><span class="p">,</span> <span class="n">𝑞𝑢𝑜𝑟𝑢𝑚_𝑠𝑎𝑡𝑖𝑠𝑓𝑎𝑐𝑡𝑖𝑜𝑛_𝑝𝑜𝑠𝑠𝑖𝑏𝑙𝑒</span><span class="o">&gt;</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li>∈ → belongs to</li>
  <li>u → union</li>
  <li>⊂ → Proper Subset;  A ⊂ B - every element of A is in B, but B has more elements.</li>
  <li>∨ →  OR</li>
  <li>∧ →  AND</li>
</ul>

<div class="language-python highlighter-rouge"><div class="code-header">
        <span data-label-text="Python"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="k">if</span> <span class="n">𝑖𝑠_𝑠𝑡𝑎𝑡𝑖𝑐</span><span class="p">(</span><span class="n">𝑞𝑢𝑜𝑟𝑢𝑚_𝑠𝑝𝑒𝑐𝑖𝑓𝑖𝑐𝑎𝑡𝑖𝑜𝑛</span><span class="p">)</span> <span class="n">then</span>
   <span class="o">&lt;</span><span class="n">𝑞𝑢𝑜𝑟𝑢𝑚_𝑠𝑎𝑡𝑖𝑠𝑓𝑖𝑒𝑑</span><span class="p">,</span> <span class="n">𝑞𝑢𝑜𝑟𝑢𝑚_𝑠𝑎𝑡𝑖𝑠</span> <span class="n">𝑓𝑎𝑐𝑡𝑖𝑜𝑛_𝑝𝑜𝑠𝑠𝑖𝑏𝑙𝑒</span><span class="o">&gt;</span> <span class="err">←</span> <span class="n">𝑖𝑠_𝑞𝑢𝑜𝑟𝑢𝑚_𝑠𝑎𝑡𝑖𝑠𝑓𝑖𝑒𝑑</span> <span class="p">(</span><span class="n">𝑟𝑒𝑠𝑝𝑜𝑛𝑠𝑒𝑠</span><span class="p">,</span> <span class="n">𝑞𝑢𝑜𝑟𝑢𝑚_𝑠𝑝𝑒𝑐𝑖𝑓𝑖𝑐𝑎𝑡𝑖𝑜𝑛</span><span class="p">)</span>
   <span class="k">return</span> <span class="n">ElectionResult</span><span class="o">&lt;</span><span class="n">𝑞𝑢𝑜𝑟𝑢𝑚_𝑠𝑎𝑡𝑖𝑠𝑓𝑖𝑒𝑑</span><span class="p">,</span> <span class="n">𝑞𝑢𝑜𝑟𝑢𝑚_𝑠𝑎𝑡𝑖𝑠</span> <span class="n">𝑓𝑎𝑐𝑡𝑖𝑜𝑛_𝑝𝑜𝑠𝑠𝑖𝑏𝑙𝑒</span><span class="o">&gt;</span>
<span class="n">end</span>
</pre></td></tr></tbody></table></code></div></div>

<div class="language-python highlighter-rouge"><div class="code-header">
        <span data-label-text="Python"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
</pre></td><td class="rouge-code"><pre><span class="c1"># Otherwise, executing in dynamic mode 
</span><span class="o">&lt;</span><span class="n">𝑞𝑢𝑜𝑟𝑢𝑚_𝑠𝑎𝑡𝑖𝑠𝑓𝑖𝑒𝑑</span><span class="p">,</span> <span class="n">𝑞𝑢𝑜𝑟𝑢𝑚_𝑠𝑎𝑡𝑖𝑠𝑓𝑎𝑐𝑡𝑖𝑜𝑛_𝑝𝑜𝑠𝑠𝑖𝑏𝑙𝑒</span><span class="o">&gt;</span> <span class="err">←</span> <span class="n">𝑖𝑠_𝑞𝑢𝑜𝑟𝑢𝑚_𝑠𝑎𝑡𝑖𝑠𝑓𝑖𝑒𝑑</span> <span class="p">(</span><span class="n">𝑟𝑒𝑠𝑝𝑜𝑛𝑠𝑒𝑠</span><span class="p">,</span> <span class="n">𝑝𝑒𝑠𝑠𝑖𝑚𝑖𝑠𝑡𝑖𝑐_𝑞𝑢𝑜𝑟𝑢𝑚</span><span class="p">)</span>
<span class="k">if</span> <span class="n">𝑞𝑢𝑜𝑟𝑢𝑚_𝑠𝑎𝑡𝑖𝑠𝑓𝑖𝑒𝑑</span> <span class="ow">or</span> <span class="n">𝑙𝑒𝑎𝑠𝑡_𝑘𝑛𝑜𝑤𝑛_𝑙𝑒𝑎𝑑𝑒𝑟</span> <span class="o">=</span> <span class="n">𝑁𝑈𝐿𝐿</span> <span class="n">then</span>
	<span class="c1"># last_known_leader could be NULL before the first successful election
</span>	<span class="k">return</span> <span class="n">ElectionResult</span><span class="o">&lt;</span><span class="n">𝑞𝑢𝑜𝑟𝑢𝑚_𝑠𝑎𝑡𝑖𝑠𝑓𝑖𝑒𝑑</span><span class="p">,</span> <span class="n">𝑞𝑢𝑜𝑟𝑢𝑚_𝑠𝑎𝑡𝑖𝑠𝑓𝑎𝑐𝑡𝑖𝑜𝑛_𝑝𝑜𝑠𝑠𝑖𝑏𝑙𝑒</span><span class="o">&gt;</span>
<span class="n">end</span>

<span class="k">if</span> <span class="n">𝑐𝑢𝑟𝑟𝑒𝑛𝑡_𝑡𝑒𝑟𝑚</span> <span class="o">=</span> <span class="n">𝑙𝑎𝑠𝑡_𝑘𝑛𝑜𝑤𝑛_𝑙𝑒𝑎𝑑𝑒𝑟</span><span class="p">.</span><span class="n">𝑡𝑒𝑟𝑚</span> <span class="o">+</span> <span class="mi">1</span> <span class="n">then</span>
	<span class="n">𝑞𝑢𝑜𝑟𝑢𝑚</span> <span class="err">←</span> <span class="n">𝑚𝑎𝑗𝑜𝑟𝑖𝑡𝑦</span><span class="p">(</span><span class="n">𝑙𝑎𝑠𝑡_𝑘𝑛𝑜𝑤𝑛_𝑙𝑒𝑎𝑑𝑒𝑟</span><span class="p">.</span><span class="n">𝑔𝑟𝑜𝑢𝑝</span><span class="p">)</span>
	<span class="o">&lt;</span><span class="n">𝑞𝑢𝑜𝑟𝑢𝑚_𝑠𝑎𝑡𝑖𝑠𝑓𝑖𝑒𝑑</span><span class="p">,</span> <span class="n">𝑞𝑢𝑜𝑟𝑢𝑚_𝑠𝑎𝑡𝑖𝑠</span> <span class="n">𝑓</span> <span class="n">𝑎𝑐𝑡𝑖𝑜𝑛_𝑝𝑜𝑠𝑠𝑖𝑏𝑙𝑒</span><span class="o">&gt;</span> <span class="err">←</span> <span class="n">𝑖𝑠_𝑞𝑢𝑜𝑟𝑢𝑚_𝑠𝑎𝑡𝑖𝑠𝑓𝑖𝑒𝑑</span> <span class="p">(</span><span class="n">𝑟𝑒𝑠𝑝𝑜𝑛𝑠𝑒𝑠</span><span class="p">,</span> <span class="n">𝑞𝑢𝑜𝑟𝑢𝑚</span><span class="p">)</span>
	<span class="k">return</span> <span class="n">ElectionResult</span><span class="o">&lt;</span><span class="n">𝑞𝑢𝑜𝑟𝑢𝑚_𝑠𝑎𝑡𝑖𝑠𝑓𝑖𝑒𝑑</span><span class="p">,</span> <span class="n">𝑞𝑢𝑜𝑟𝑢𝑚_𝑠𝑎𝑡𝑖𝑠</span> <span class="n">𝑓</span> <span class="n">𝑎𝑐𝑡𝑖𝑜𝑛_𝑝𝑜𝑠𝑠𝑖𝑏𝑙𝑒</span><span class="o">&gt;</span>
<span class="n">end</span>

<span class="n">𝑡𝑒𝑟𝑚_𝑖𝑡</span> <span class="err">←</span> <span class="n">𝑙𝑎𝑠𝑡_𝑘𝑛𝑜𝑤𝑛_𝑙𝑒𝑎𝑑𝑒𝑟</span><span class="p">.</span><span class="n">𝑡𝑒𝑟𝑚</span>
<span class="n">𝑛𝑒𝑥𝑡_𝑙𝑒𝑎𝑑𝑒𝑟_𝑔𝑟𝑜𝑢𝑝𝑠</span> <span class="err">←</span> <span class="p">{</span><span class="n">𝑙𝑎𝑠𝑡_𝑘𝑛𝑜𝑤𝑛_𝑙𝑒𝑎𝑑𝑒𝑟</span><span class="p">.</span><span class="n">𝑔𝑟𝑜𝑢𝑝</span><span class="p">}</span>
<span class="n">𝑒𝑥𝑝𝑙𝑜𝑟𝑒𝑑_𝑙𝑒𝑎𝑑𝑒𝑟_𝑔𝑟𝑜𝑢𝑝𝑠</span> <span class="err">←</span> <span class="p">{</span><span class="n">𝑙𝑎𝑠𝑡_𝑘𝑛𝑜𝑤𝑛_𝑙𝑒𝑎𝑑𝑒𝑟</span><span class="p">.</span><span class="n">𝑔𝑟𝑜𝑢𝑝</span><span class="p">}</span>
<span class="n">𝑡𝑒𝑟𝑚𝑖𝑛𝑎𝑙_𝑔𝑟𝑜𝑢𝑝𝑠</span> <span class="err">←</span> <span class="n">𝜙</span> <span class="c1"># empty set
</span>
<span class="c1"># Iterate until the pessimistic quorum is absolutely required
</span><span class="k">while</span> <span class="n">𝑒𝑥𝑝𝑙𝑜𝑟𝑒𝑑_𝑙𝑒𝑎𝑑𝑒𝑟_𝑔𝑟𝑜𝑢𝑝𝑠</span> <span class="err">⊂</span> <span class="n">G</span> <span class="n">do</span> 
	<span class="c1"># terminal groups include all groups, denoted by G
</span>	<span class="n">𝑠𝑡𝑎𝑡𝑢𝑠</span><span class="p">,</span> <span class="n">𝑛𝑒𝑥𝑡_𝑡𝑒𝑟𝑚</span><span class="p">,</span> <span class="n">𝑝𝑜𝑡𝑒𝑛𝑡𝑖𝑎𝑙_𝑛𝑒𝑥𝑡_𝑙𝑒𝑎𝑑𝑒𝑟𝑠</span> <span class="err">←</span> <span class="n">𝐺𝑒𝑡𝑃𝑜𝑡𝑒𝑛𝑡𝑖𝑎𝑙𝑁𝑒𝑥𝑡𝐿𝑒𝑎𝑑𝑒𝑟𝑠</span><span class="p">(</span><span class="n">𝑡𝑒𝑟𝑚_𝑖𝑡</span><span class="p">,</span> <span class="n">𝑛𝑒𝑥𝑡_𝑙𝑒𝑎𝑑𝑒𝑟_𝑔𝑟𝑜𝑢𝑝𝑠</span><span class="p">)</span>
	<span class="n">switch</span> <span class="n">𝑠𝑡𝑎𝑡𝑢𝑠</span> <span class="n">do</span>
		<span class="n">case</span> <span class="n">𝐴𝐿𝐿_𝐼𝑁𝑇𝐸𝑅𝑀𝐸𝐷𝐼𝐴𝑇𝐸_𝑇𝐸𝑅𝑀𝑆_𝐷𝐸𝐹𝑈𝑁𝐶𝑇</span> <span class="n">do</span>
			<span class="c1"># when the set of all servers which could have potentially won an election without the candidate’s knowledge
</span>			<span class="c1"># has been determined
</span>			<span class="n">𝑞𝑢𝑜𝑟𝑢𝑚_𝑟𝑒𝑠𝑢𝑙𝑡𝑠</span> <span class="err">←</span> <span class="p">{</span><span class="n">𝑖𝑠_𝑞𝑢𝑜𝑟𝑢𝑚_𝑠𝑎𝑡𝑖𝑓𝑖𝑒𝑑</span> <span class="p">(</span><span class="n">𝑟𝑒𝑠𝑝𝑜𝑛𝑠𝑒𝑠</span><span class="p">,</span><span class="n">𝑚𝑎𝑗𝑜𝑟𝑖𝑡𝑦</span><span class="p">(</span><span class="n">𝑔𝑟𝑜𝑢𝑝</span><span class="p">))</span> <span class="p">:</span> <span class="n">𝑔𝑟𝑜𝑢𝑝</span> <span class="err">∈</span> <span class="n">𝑡𝑒𝑟𝑚𝑖𝑛𝑎𝑙_𝑔𝑟𝑜𝑢𝑝𝑠</span><span class="p">}</span>
			<span class="k">return</span> <span class="o">&lt;</span> <span class="p">{</span><span class="n">𝑞𝑟</span> <span class="err">∈</span> <span class="n">𝑞𝑢𝑜𝑟𝑢𝑚_𝑟𝑒𝑠𝑢𝑙𝑡𝑠</span><span class="p">}</span> <span class="err">∧</span> <span class="n">𝑞𝑟</span><span class="p">.</span><span class="n">𝑞𝑢𝑜𝑟𝑢𝑚_𝑠𝑎𝑡𝑖𝑠𝑓𝑖𝑒𝑑</span><span class="p">,</span> <span class="p">{</span><span class="n">𝑞𝑟</span> <span class="err">∈</span> <span class="n">𝑞𝑢𝑜𝑟𝑢𝑚_𝑟𝑒𝑠𝑢𝑙𝑡𝑠</span><span class="p">}</span> <span class="err">∨</span> <span class="n">𝑞𝑟</span><span class="p">.</span><span class="n">𝑞𝑢𝑜𝑟𝑢𝑚_𝑠𝑎𝑡𝑖𝑠𝑓𝑎𝑐𝑡𝑖𝑜𝑛_𝑝𝑜𝑠𝑠𝑖𝑏𝑙𝑒</span><span class="o">&gt;</span>
		<span class="n">end</span>
		<span class="n">case</span> <span class="n">𝑊𝐴𝐼𝑇𝐼𝑁𝐺_𝐹𝑂𝑅_𝑀𝑂𝑅𝐸_𝑉𝑂𝑇𝐸𝑆</span> <span class="n">do</span>
			<span class="k">return</span> <span class="n">𝐸𝐿𝐸𝐶𝑇𝐼𝑂𝑁_𝑈𝑁𝐷𝐸𝐶𝐼𝐷𝐸𝐷</span> <span class="o">&lt;</span> <span class="n">𝑓𝑎𝑙𝑠𝑒</span><span class="p">,</span> <span class="n">𝑡𝑟𝑢𝑒</span> <span class="o">&gt;</span>
		<span class="n">end</span>
		<span class="n">case</span> <span class="n">𝑃𝑂𝑇𝐸𝑁𝑇𝐼𝐴𝐿_𝑁𝐸𝑋𝑇_𝐿𝐸𝐴𝐷𝐸𝑅𝑆_𝐷𝐸𝑇𝐸𝐶𝑇𝐸𝐷</span> <span class="n">do</span>
			<span class="n">𝑡𝑒𝑟𝑚_𝑖𝑡</span> <span class="err">←</span> <span class="n">𝑛𝑒𝑥𝑡_𝑡𝑒𝑟𝑚</span>
			<span class="n">𝑛𝑒𝑥𝑡_𝑙𝑒𝑎𝑑𝑒𝑟_𝑔𝑟𝑜𝑢𝑝𝑠</span> <span class="err">←</span> <span class="p">{</span> <span class="n">𝑛𝑒𝑥𝑡_𝑙𝑒𝑎𝑑𝑒𝑟</span> <span class="err">∈</span> <span class="n">𝑝𝑜𝑡𝑒𝑛𝑡𝑖𝑎𝑙_𝑛𝑒𝑥𝑡_𝑙𝑒𝑎𝑑𝑒𝑟𝑠</span> <span class="p">}</span> <span class="err">∪</span> <span class="p">{</span><span class="n">𝑛𝑒𝑥𝑡_𝑙𝑒𝑎𝑑𝑒𝑟</span><span class="p">.</span><span class="n">𝑔𝑟𝑜𝑢𝑝</span><span class="p">}</span>
			<span class="n">𝑒𝑥𝑝𝑙𝑜𝑟𝑒𝑑_𝑙𝑒𝑎𝑑𝑒𝑟_𝑔𝑟𝑜𝑢𝑝𝑠</span> <span class="err">←</span> <span class="n">𝑒𝑥𝑝𝑙𝑜𝑟𝑒𝑑_𝑙𝑒𝑎𝑑𝑒𝑟_𝑔𝑟𝑜𝑢𝑝𝑠</span> <span class="err">∪</span> <span class="n">𝑛𝑒𝑥𝑡_𝑙𝑒𝑎𝑑𝑒𝑟_𝑔𝑟𝑜𝑢𝑝𝑠</span>
		<span class="n">end</span>
	<span class="n">end</span>
<span class="n">end</span>

<span class="k">return</span> <span class="n">𝐸𝐿𝐸𝐶𝑇𝐼𝑂𝑁_𝑈𝑁𝐷𝐸𝐶𝐼𝐷𝐸𝐷</span> <span class="o">&lt;</span> <span class="n">𝑓𝑎𝑙𝑠𝑒</span><span class="p">,</span> <span class="n">𝑡𝑟𝑢𝑒</span> <span class="o">&gt;</span>
</pre></td></tr></tbody></table></code></div></div>

<hr />

<h2 id="-benefits-of-flexiraft"><span class="me-2">📈 Benefits of FlexiRaft</span><a href="#-benefits-of-flexiraft" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<ul>
  <li><strong>Lower tail latency</strong> for writes</li>
  <li><strong>Cross-region traffic minimized</strong></li>
  <li><strong>Customizable fault-tolerance vs performance tradeoffs</strong></li>
  <li><strong>Better recovery paths during partial region failures</strong></li>
  <li><strong>Simplified tooling and more robust elections</strong></li>
</ul>

<hr />

<h2 id="-summary"><span class="me-2">📚 Summary</span><a href="#-summary" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>FlexiRaft is a production-hardened, latency-aware extension of Raft tailored for globally distributed MySQL deployments at Meta. It bridges the gap between <strong>strict consensus</strong> and <strong>flexible system-level tradeoffs</strong>, enabling developers to fine-tune the balance of performance, availability, and consistency.</p>

<hr />

<p>📎 References:</p>
<ul>
  <li><a href="https://www.cidrdb.org/cidr2023/papers/p83-yadav.pdf">CIDR 2023 Paper on FlexiRaft</a></li>
  <li><a href="https://www.notion.so/Consensus-Paxos-vs-Raft-1f2e2fbb597c4bd886218da47e14f3a9">Consensus Models: Paxos vs Raft</a></li>
</ul>

  </div>

  <div class="post-tail-wrapper text-muted">
    <!-- categories -->
    
      <div class="post-meta mb-3">
        <i class="far fa-folder-open fa-fw me-1"></i>
        
          <a href="/blog/categories/systems/">Systems</a>,
          <a href="/blog/categories/consensus/">consensus</a>,
          <a href="/blog/categories/distributed-systems/">distributed-systems</a>
      </div>
    

    <!-- tags -->
    
      <div class="post-tags">
        <i class="fa fa-tags fa-fw me-1"></i>
        
          <a
            href="/blog/tags/raft/"
            class="post-tag no-text-decoration"
          >raft</a>
        
          <a
            href="/blog/tags/mysql/"
            class="post-tag no-text-decoration"
          >mysql</a>
        
          <a
            href="/blog/tags/flexiquorum/"
            class="post-tag no-text-decoration"
          >flexiquorum</a>
        
          <a
            href="/blog/tags/distributed-systems/"
            class="post-tag no-text-decoration"
          >distributed-systems</a>
        
          <a
            href="/blog/tags/consensus/"
            class="post-tag no-text-decoration"
          >consensus</a>
        
      </div>
    

    <div
      class="
        post-tail-bottom
        d-flex justify-content-between align-items-center mt-5 pb-2
      "
    >
      <div class="license-wrapper">
        
          

          This post is licensed under 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         by the author.
        
      </div>

      <!-- Post sharing snippet -->

<div class="share-wrapper d-flex align-items-center">
  <span class="share-label text-muted">Share</span>
  <span class="share-icons">
    
    
    

    

      

      <a href="https://twitter.com/intent/tweet?text=FlexiRaft:%20Flexible%20Quorums%20with%20Raft%20in%20MySQL%20-%20SayantanKhan&url=http%3A%2F%2F0.0.0.0%3A4000%2Fblog%2Fposts%2Fflexi-raft%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter">
        <i class="fa-fw fa-brands fa-square-x-twitter"></i>
      </a>
    

      

      <a href="https://www.facebook.com/sharer/sharer.php?title=FlexiRaft:%20Flexible%20Quorums%20with%20Raft%20in%20MySQL%20-%20SayantanKhan&u=http%3A%2F%2F0.0.0.0%3A4000%2Fblog%2Fposts%2Fflexi-raft%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook">
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    

      

      <a href="https://t.me/share/url?url=http%3A%2F%2F0.0.0.0%3A4000%2Fblog%2Fposts%2Fflexi-raft%2F&text=FlexiRaft:%20Flexible%20Quorums%20with%20Raft%20in%20MySQL%20-%20SayantanKhan" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram">
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <button
      id="copy-link"
      aria-label="Copy link"
      class="btn small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="Copy link"
      data-title-succeed="Link copied successfully!"
    >
      <i class="fa-fw fas fa-link pe-none fs-6"></i>
    </button>
  </span>
</div>

    </div>
    <!-- .post-tail-bottom -->
  </div>
  <!-- div.post-tail-wrapper -->
</article>


            
          </main>

          <!-- panel -->
          <aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted">
            <div class="access">
              <!-- Get 5 last posted/updated posts -->














  <section id="access-lastmod">
    <h2 class="panel-heading">Recently Updated</h2>
    <ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/blog/posts/backward_propagation/">Backpropagation, Softmax, Cross-Entropy, and the Chain Rule — Explained with Equations</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/blog/posts/tensorflow_grpc/">🚀 Accelerating TensorFlow with Adaptive RDMA ⚡️: Supercharging gRPC Performance 🔗</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/blog/posts/firecracker-vm/">🔥 Firecracker: The Lightweight Guard of Serverless Computing</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/blog/posts/flexi-raft/">FlexiRaft: Flexible Quorums with Raft in MySQL</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/blog/posts/ha-cluster/">High Availability Demo 🚀 Pacemaker + Corosync + Docker</a>
        </li>
      
    </ul>
  </section>
  <!-- #access-lastmod -->


              <!-- The trending tags list -->















  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/blog/tags/aws/">aws</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/blog/tags/backpropagation/">backpropagation</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/blog/tags/clustering/">clustering</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/blog/tags/consensus/">consensus</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/blog/tags/corosync/">corosync</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/blog/tags/cross-entropy/">cross-entropy</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/blog/tags/deep-learning/">deep-learning</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/blog/tags/distributed-systems/">distributed-systems</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/blog/tags/docker/">docker</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/blog/tags/flexiquorum/">flexiquorum</a>
      
    </div>
  </section>


            </div>

            
              
              






  <div class="toc-border-cover z-3"></div>
  <section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4">
    <h2 class="panel-heading ps-3 pb-2 mb-0">Contents</h2>
    <nav id="toc"></nav>
  </section>


            
          </aside>
        </div>

        <div class="row">
          <!-- tail -->
          <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              
              <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->















  

  
    











            
              
              <!-- Navigation buttons at the bottom of the post. -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  
  

  
    <div class="btn btn-outline-primary disabled" aria-label="Older">
      <p>-</p>
    </div>
  

  
    <a
      href="/blog/posts/ha-cluster/"
      class="btn btn-outline-primary"
      aria-label="Newer"
    >
      <p>High Availability Demo 🚀 Pacemaker + Corosync + Docker</p>
    </a>
  
</nav>

            

            <!-- The Footer -->

<footer
  aria-label="Site Info"
  class="
    d-flex flex-column justify-content-center text-muted
    flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3
  "
>
  <p>©
    <time>2025</time>

    
      <a href="https://www.linkedin.com/in/sayantan-khan-219231b7">Sayantan</a>.
    

    
      <span
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."
      >Some rights reserved.</span>
    
  </p>

  <p>Using the <a
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="v7.3.0"
        href="https://github.com/cotes2020/jekyll-theme-chirpy"
        target="_blank"
        rel="noopener"
      >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.
  </p>
</footer>

          </div>
        </div>

        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center d-none">
  <div class="col-11 content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/blog/tags/aws/">aws</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/blog/tags/backpropagation/">backpropagation</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/blog/tags/clustering/">clustering</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/blog/tags/consensus/">consensus</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/blog/tags/corosync/">corosync</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/blog/tags/cross-entropy/">cross-entropy</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/blog/tags/deep-learning/">deep-learning</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/blog/tags/distributed-systems/">distributed-systems</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/blog/tags/docker/">docker</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/blog/tags/flexiquorum/">flexiquorum</a>
      
    </div>
  </section>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>

      <aside aria-label="Scroll to Top">
        <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow">
          <i class="fas fa-angle-up"></i>
        </button>
      </aside>
    </div>

    <div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div>

    
      <aside
  id="notification"
  class="toast"
  role="alert"
  aria-live="assertive"
  aria-atomic="true"
  data-bs-animation="true"
  data-bs-autohide="false"
>
  <div class="toast-header">
    <button
      type="button"
      class="btn-close ms-auto"
      data-bs-dismiss="toast"
      aria-label="Close"
    ></button>
  </div>
  <div class="toast-body text-center pt-0">
    <p class="px-2 mb-3">A new version of content is available.</p>
    <button type="button" class="btn btn-primary" aria-label="Update">
      Update
    </button>
  </div>
</aside>

    

    <!-- Embedded scripts -->

    
      
      <!-- The comments switcher -->


    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  
  document.addEventListener('DOMContentLoaded', () => {
    SimpleJekyllSearch({
      searchInput: document.getElementById('search-input'),
      resultsContainer: document.getElementById('search-results'),
      json: '/blog/assets/js/data/search.json',
      searchResultTemplate: '  <article class="px-1 px-sm-2 px-lg-4 px-xl-0">    <header>      <h2><a href="{url}">{title}</a></h2>      <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">        {categories}        {tags}      </div>    </header>    <p>{content}</p>  </article>',
      noResultsText: '<p class="mt-5">Oops! No results found.</p>',
      templateMiddleware: function(prop, value, template) {
        if (prop === 'categories') {
          if (value === '') {
            return `${value}`;
          } else {
            return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
          }
        }

        if (prop === 'tags') {
          if (value === '') {
            return `${value}`;
          } else {
            return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
          }
        }
      }
    });
  });
</script>

  </body>
</html>

